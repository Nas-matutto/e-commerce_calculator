---
import WidgetWrapper from '~/components/ui/WidgetWrapper.astro';
import Headline from '~/components/ui/Headline.astro';

const { title, subtitle, id, isDark = false } = Astro.props;
---

<WidgetWrapper id={id} isDark={isDark} containerClass="max-w-7xl mx-auto">
  <Headline title="Contact Test" subtitle="Testing form functionality" />
  
  <div class="max-w-xl mx-auto">
    <div id="test-message" class="hidden mb-4 p-4 bg-green-100 text-green-700 rounded">
      Test successful!
    </div>
    
    <form id="test-form">
      <input type="text" id="name" name="name" placeholder="Your name" required class="w-full p-2 border rounded mb-4">
      <button type="submit" id="test-btn" class="bg-blue-500 text-white px-4 py-2 rounded">
        Test Submit
      </button>
    </form>
  </div>
</WidgetWrapper>

<script>
  console.log('🚀 Test script loading...');
  
  document.addEventListener('DOMContentLoaded', function() {
    console.log('🎯 DOM loaded');
    
    const form = document.getElementById('test-form');
    const message = document.getElementById('test-message');
    
    if (form) {
      console.log('✅ Form found');
      
      form.addEventListener('submit', function(e) {
        e.preventDefault();
        console.log('🎉 Form submitted!');
        
        if (message) {
          message.classList.remove('hidden');
        }
      });
    } else {
      console.log('❌ Form not found');
    }
  });
</script>